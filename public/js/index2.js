import{r as e,s as t,a as n,R as a,b as r}from"./index.js";import{A as s}from"./index3.js";import{B as l,M as o}from"./index4.js";import{I as m}from"./index5.js";const i=undefined,u=undefined,c=undefined,d=undefined;var p="_hallWrapper_dhb3j_1",f="_btnGroup_dhb3j_9",E="_roomList_dhb3j_12",v="_item_dhb3j_17";const _=undefined;var h;const j=s((()=>{const[s,i]=e.exports.useState(!1),[u,c]=e.exports.useState(!1),[d,_]=e.exports.useState([]),[h,j]=e.exports.useState(""),[x]=t.useModel("user");return e.exports.useEffect((()=>{var e;async function t(){const{data:e}=await r("/api/roomList");_(e)}(null==(e=null==x?void 0:x.userInfo)?void 0:e.username)&&n.emit("enterHall",x.userInfo),t()}),[x.userInfo]),a.createElement("div",{className:p},a.createElement("h2",null,"\u5927\u5385"),a.createElement("div",{className:f},a.createElement(l,{type:"primary",onClick:()=>i(!0)},"\u521b\u5efa\u623f\u95f4"),a.createElement(l,{type:"primary",onClick:()=>c(!0)},"\u52a0\u5165\u623f\u95f4")),a.createElement("div",{className:E},d.length>0?d.map((e=>a.createElement("div",{className:v,key:e.roomName},a.createElement("h4",null,a.createElement("span",null,"\u623f\u95f4\u540d\uff1a",e.roomName),a.createElement("span",null,e.user.length,"/8")),a.createElement("p",null,"\u623f\u95f4\u53f7\uff1a",e.id),a.createElement(l,{type:"primary",onClick:()=>{n.emit("joinRoom",{id:e.id,username:x.userInfo.username})}},"\u52a0\u5165")))):"\u5927\u5385\u6682\u65e0\u623f\u95f4\uff0c\u5feb\u53bb\u521b\u5efa\u4e00\u4e2a\u5427"),a.createElement(o,{title:"\u521b\u5efa\u623f\u95f4",visible:s,onCancel:()=>i(!1),onOk:async()=>{n.emit("createRoom",x.userInfo),i(!1)}},a.createElement("p",null,"\u662f\u5426\u521b\u5efa\u623f\u95f4\uff1f")),a.createElement(o,{title:"\u52a0\u5165\u623f\u95f4",visible:u,onCancel:()=>c(!1),onOk:()=>{n.emit("joinRoom",{id:h,username:x.userInfo.username}),c(!1)}},a.createElement(m,{placeholder:"\u8bf7\u8f93\u5165\u623f\u95f4\u53f7",value:h,onChange:e=>j(e.target.value)})))}));export{j as default};
